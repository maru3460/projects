<!DOCTYPE html>
<html lang="ja" xmlns:th="www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Scraping Gihyo">
    <meta name="viewport" content="wide=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <title>Programs</title>
  </head>

  <body>
    <div th:insert="~{fragment :: common-header}"></div>
            
    <main>
      <section id="scraping-gihyo" class="wrapper">
        
        <p>やっていること</p>
        <p>・ProcessBuilderでpython実行</p>
        <p>・pythonでスクレイピング、データをファイルに保存</p>
        <p>・javaでそのデータを受け取る</p>
        <p>・htmlに渡して表示<br><br></p>        
        <p>起動時＋毎日24時に更新しています。</p>
        
        <div th:if="${booksData}">
          <div class="book-datas" th:each="data : ${booksData}">
            
            <img th:src="${data.get(2)}" width="50" height="75"/>
           <p><a th:href="${data.get(1)}" th:text="${data.get(0)}"></a></p>
            
          </div>
        </div>
        
        <div th:unless="${booksData}">
          <p>スレイピングに失敗しました。</p>
        </div>
                          
      </section>
    </main>    
  </body>

</html>